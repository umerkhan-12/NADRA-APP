@startuml Collaboration_Diagram_Login

title NADRA Citizen Portal - Collaboration Diagram\nUser Login Use Case

object "User" as User #LightGreen
object "LoginForm" as Form #FFCDD2
object "AuthController" as Auth #FFE082
object "UserEntity" as UE #C8E6C9
object "Session" as Session #C8E6C9
object "Database" as DB #E1BEE7

User --> Form : 1: enterCredentials()
Form --> Auth : 1.1: login(email, password)
Auth --> UE : 1.2: findByEmail()
UE --> DB : 1.3: query()
Auth --> Auth : 2: verifyPassword()
Auth --> Session : 2.1: createSession()
Session --> DB : 2.2: store()
Auth --> Form : 3: loginSuccess()
Form --> User : 3.1: redirectDashboard()

@enduml
